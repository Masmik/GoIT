"use strict";function domReady(e,t){function n(a){document.removeEventListener("DOMContentLoaded",n),e.call(t,a)}function a(n){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),e.call(t,n))}document.addEventListener&&document.addEventListener("DOMContentLoaded",n)||document.attachEvent&&document.attachEvent("onreadystatechange",a)}function onPageReady(){loadSliders(),loadMasonry()}function loadMasonry(){function e(e){for(var t=document.getElementsByClassName("grid-item"),n=0;n<t.length;n++){t[n].style.backgroundImage="url("+e.hits[n].webformatURL+")";t[n].getElementsByClassName("item__text")[0].innerHTML=e.hits[n].tags.toUpperCase().split(",")[0]}}function t(t){jQuery.support.cors=!0,$.ajax({url:"https://pixabay.com/api/?key=5270170-c6e51883c4d17561ecf30e5fa&q="+t+"&image_type=photo&min_width=260&per_page=7",dataType:"json",method:"GET",success:function(t){if(0==t.count)return void console.log("pixabay не вернул ни одной картинки");e(t)},fail:function(){console.log("Fail request")},done:function(){console.log("Done request")}})}var n=document.querySelector(".grid");new Masonry(n,{itemSelector:".grid-item",columnWidth:".grid-sizer",gutter:".gutter-sizer"});var a=["cat","dog","pigs","sun","smile","egypt","sea","sky","tree","sand","space"];t(a[Math.floor(Math.random()*(a.length-1))]),function(){document.getElementsByClassName("search-partners_button")[0].addEventListener("click",function(e){e.preventDefault(),t(document.getElementById("search_query").value)})}()}function loadSliders(){for(var e=document.getElementsByClassName("slider-container"),t=0;t<e.length;t++)new App.MasSlider(e[t])}domReady(onPageReady);var App=App||{};App.MasSlider=function(e){function t(){0==o&&(o=s.length),o--,a()}function n(){o==s.length-1&&(o=-1),o++,a()}function a(){for(var e=0;e<s.length;e++)s[e].style.display="none";s[o].style.display="block"}var o=0,s=e.getElementsByClassName("slider"),r=e.getElementsByClassName("prev")[0],c=e.getElementsByClassName("next")[0];r.addEventListener("click",t),c.addEventListener("click",n),a()};